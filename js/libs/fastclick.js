function FastClick(a){var c,b=this;this.trackingClick=false,this.targetElement=null;this.layer=a;if(!a||!a.nodeType){throw new TypeError("Layer must be a document node")}this.onClick=function(){FastClick.prototype.onClick.apply(b,arguments)};this.onTouchStart=function(){FastClick.prototype.onTouchStart.apply(b,arguments)};this.onTouchMove=function(){FastClick.prototype.onTouchMove.apply(b,arguments)};this.onTouchEnd=function(){FastClick.prototype.onTouchEnd.apply(b,arguments)};this.onTouchCancel=function(){FastClick.prototype.onTouchCancel.apply(b,arguments)};if(typeof window.ontouchstart==="undefined"){return}a.addEventListener("click",this.onClick,true);a.addEventListener("touchstart",this.onTouchStart,true);a.addEventListener("touchmove",this.onTouchMove,true);a.addEventListener("touchend",this.onTouchEnd,true);a.addEventListener("touchcancel",this.onTouchCancel,true);if(typeof a.onclick==="function"){c=a.onclick;a.addEventListener("click",function(d){c(d)},false);a.onclick=null}}FastClick.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0;FastClick.prototype.needsClick=function(a){switch(a.nodeName.toLowerCase()){case"label":case"video":return true;default:return(/\bneedsclick\b/).test(a.className)}};FastClick.prototype.needsFocus=function(a){switch(a.nodeName.toLowerCase()){case"textarea":case"select":return true;case"input":switch(a.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return false;default:return true}break;default:return(/\bneedsfocus\b/).test(a.className)}};FastClick.prototype.maybeSendClick=function(b,c){var a,d;if(this.needsClick(b)){return false}d=c.changedTouches[0];a=document.createEvent("MouseEvents");a.initMouseEvent("click",true,true,window,1,d.screenX,d.screenY,d.clientX,d.clientY,false,false,false,false,0,null);a.forwardedTouchEvent=true;b.dispatchEvent(a);return true};FastClick.prototype.onTouchStart=function(a){var b=a.targetTouches[0];this.trackingClick=true;this.targetElement=a.target;this.touchStartX=b.pageX;this.touchStartY=b.pageY;return true};FastClick.prototype.touchHasMoved=function(a){var b=a.targetTouches[0];if(Math.abs(b.pageX-this.touchStartX)>10||Math.abs(b.pageY-this.touchStartY)>10){return true}return false};FastClick.prototype.onTouchMove=function(a){if(!this.trackingClick){return true}if(this.targetElement!==a.target||this.touchHasMoved(a)){this.trackingClick=false;this.targetElement=null}return true};FastClick.prototype.onTouchEnd=function(b){var c,a=this.targetElement;if(!this.trackingClick){return true}this.trackingClick=false;if(a.nodeName.toLowerCase()==="label"&&a.htmlFor){c=document.getElementById(a.htmlFor);if(c){a.focus();if(this.android){return false}if(this.maybeSendClick(c,b)){b.preventDefault()}return false}}else{if(this.needsFocus(a)){a.focus();if(a.tagName.toLowerCase()!=="select"){b.preventDefault()}return false}}if(!this.maybeSendClick(a,b)){return false}b.preventDefault();return false};FastClick.prototype.onTouchCancel=function(){this.trackingClick=false;this.targetElement=null};FastClick.prototype.onClick=function(b){var a;if(b.forwardedTouchEvent){return true}if(!this.targetElement){return true}a=this.targetElement;this.targetElement=null;if(!b.cancelable){return true}if(b.target.type==="submit"&&b.detail===0){return true}if(!this.needsClick(a)){if(b.stopImmediatePropagation){b.stopImmediatePropagation()}b.stopPropagation();b.preventDefault();return false}return true};FastClick.prototype.destroy=function(){var a=this.layer;a.removeEventListener("click",this.onClick,true);a.removeEventListener("touchstart",this.onTouchStart,true);a.removeEventListener("touchmove",this.onTouchMove,true);a.removeEventListener("touchend",this.onTouchEnd,true);a.removeEventListener("touchcancel",this.onTouchCancel,true)};if(typeof define==="function"&&define.amd){define(function(){return FastClick})};